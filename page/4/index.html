<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>树灼的博客</title><meta name="author" content="树灼"><meta name="copyright" content="树灼"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="熟悉java的拼写">
<meta property="og:type" content="website">
<meta property="og:title" content="树灼的博客">
<meta property="og:url" content="https://blog.chenshuzhuo.com/page/4/index.html">
<meta property="og:site_name" content="树灼的博客">
<meta property="og:description" content="熟悉java的拼写">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.chenshuzhuo.com/me/me-log.png">
<meta property="article:author" content="树灼">
<meta property="article:tag" content="树灼">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.chenshuzhuo.com/me/me-log.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.chenshuzhuo.com/page/4/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 树灼","link":"链接: ","source":"来源: 树灼的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '树灼的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-09-08 18:42:32'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/me/me-log.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">194</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">44</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">50</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fab fa-youtube"></i><span> 番剧</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.chenshuzhuo.com/img/202303121427036.png')"><nav id="nav"><span id="blog-info"><a href="/" title="树灼的博客"><span class="site-name">树灼的博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fab fa-youtube"></i><span> 番剧</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">树灼的博客</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/05/java/%E5%AE%89%E5%85%A8/%E4%BD%BF%E7%94%A8%E4%BA%86%20HTTPS%20%EF%BC%8C%20%E5%AF%B9JSON%20%E6%95%B0%E6%8D%AE%E6%9C%89%E5%BF%85%E8%A6%81%E5%81%9A%E9%A2%9D%E5%A4%96%E7%9A%84%E5%8A%A0%E5%AF%86%E5%90%97/" title="使用了 HTTPS ， 对JSON 数据有必要做额外的加密吗"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用了 HTTPS ， 对JSON 数据有必要做额外的加密吗"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/java/%E5%AE%89%E5%85%A8/%E4%BD%BF%E7%94%A8%E4%BA%86%20HTTPS%20%EF%BC%8C%20%E5%AF%B9JSON%20%E6%95%B0%E6%8D%AE%E6%9C%89%E5%BF%85%E8%A6%81%E5%81%9A%E9%A2%9D%E5%A4%96%E7%9A%84%E5%8A%A0%E5%AF%86%E5%90%97/" title="使用了 HTTPS ， 对JSON 数据有必要做额外的加密吗">使用了 HTTPS ， 对JSON 数据有必要做额外的加密吗</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/%E5%AE%89%E5%85%A8/">安全</a></span></div><div class="content">使用了 HTTPS ， 对JSON 数据有必要做额外的加密吗纠结这个问题好久了。 待完整补充。。。。
在公网上 可以大致保证数据不被篡改,但是数据仍然可能被窃听,但是除非重要数据 否则不需要加密https 防的是传输过程中的攻击，json 加密防的是来自本地用户的攻击（做外挂，作弊）根据自己的需求来综合考虑TLS 同时保证数据的完整性和保密性，只要信任链是正常的就没问题。攻击者只能获取你访问的 IP 和域名以及传输的密文。客户端能拿到的数据，攻击者就能拿到。就看你的数据值不值得攻击者花费时间精力金钱去拿了。没有绝对的安全，要不要上只是根据自己的实际情况选择。 说白了，我回答不用，你就决定不用了？那出问题要不要我背锅啊、一般不需要，除非有很重要的保密信息。不过有这种信息的一般也不会是谁都能看到的，本身的传播源就是可控的。至于抓包，那是没办法的事，用户本地抓包、反编译，你也不好管控。防范中间人攻击，那只要用户本身系统没有问题，你们服务器也没有问题，那就不存在问题。如果真的有很特别的需求，那你自己再加一层简单的加密也行，但不要报太大希望，这个只能是增加破解成本罢了。总的来说，如果没有特别需要 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/05/linux/esxi/Parted%20Live%20%E6%93%8D%E4%BD%9C%E5%88%86%E5%8C%BA/" title="Parted Live 操作分区"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Parted Live 操作分区"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/linux/esxi/Parted%20Live%20%E6%93%8D%E4%BD%9C%E5%88%86%E5%8C%BA/" title="Parted Live 操作分区">Parted Live 操作分区</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/esxi/">esxi</a></span></div><div class="content">使用 GParted Live 操作分区(扩容)
这种方法相对简单，安全性较高，且无需复杂的命令行操作。GParted 提供了一个直观的图形界面来调整分区大小
准备工作备份虚拟机：在操作前，一定要使用 ESXi 的快照功能或其他备份方案对虚拟机进行完整备份。
下载 GParted Live ISO 文件：从 GParted 官方网站 下载最新的 ISO 文件。
进入 GParted在 ESXi 6.7 中，如果你已经在虚拟机的设置中挂载了 GParted Live ISO 文件，但仍无法从该 ISO 启动，有几项设置可以检查和调整：
检查和调整设置以进入 GParted
确保已连接 CD&#x2F;DVD 驱动器：

在 ESXi 虚拟机设置中，确认你的 CD&#x2F;DVD 驱动器已设置为“Connected”并勾选了“Connect at power on”。
这是确保虚拟机在启动时可以读取挂载的 ISO 文件。


设置 BIOS 启动顺序：
进入了虚拟机的 BIOS 设置界面。为了从 CD&#x2F;DVD 驱动器启动，你需要在 “Boot” 选项卡中调整启动顺序，使 CD- ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/05/linux/esxi/esxi%E5%92%8Cubuntu%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5/" title="esxi和ubuntu时间同步"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="esxi和ubuntu时间同步"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/linux/esxi/esxi%E5%92%8Cubuntu%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5/" title="esxi和ubuntu时间同步">esxi和ubuntu时间同步</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/esxi/">esxi</a></span></div><div class="content"> Ubuntu 上使用 chrony 并配置阿里云的时间服务器作为上游时间源，以下步骤进行设置。
1. 安装 chrony首先，确保系统已安装 chrony：
12sudo apt updatesudo apt install chrony

2. 配置 chrony编辑 chrony 的配置文件 /etc/chrony/chrony.conf：
1sudo nano /etc/chrony/chrony.conf

在配置文件中，找到或添加以下内容，将默认的时间服务器条目替换为阿里云的时间服务器：
12345678# 注释掉默认的时间服务器条目# pool 2.debian.pool.ntp.org iburst# 配置阿里云的时间服务器，客户端配置这个为服务器地址server ntp.aliyun.com iburst# 允许本地网络中的客户端访问时间服务器（可选，根据需要配置）# allow 192.168.60.0/24

在这里，iburst 选项用于加速首次时间同步。
注释或删除不必要的配置项
如果你不需要使用 Ubuntu 默认提供的 NTP 服务器，或不需要通过 DHC ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/05/linux/esxi/esxi%E6%97%B6%E5%8C%BA%E8%AE%BE%E7%BD%AE/" title="esxi时区设置"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="esxi时区设置"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/linux/esxi/esxi%E6%97%B6%E5%8C%BA%E8%AE%BE%E7%BD%AE/" title="esxi时区设置">esxi时区设置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/esxi/">esxi</a></span></div><div class="content">查看机器型号
1esxcli hardware platform get

12345678Platform Information   UUID: 0x4c 0x4c 0x45 0x44 0x0 0x59 0x4b 0x10 0x80 0x57 0xb6 0xc0 0x4f 0x37 0x43 0x32   Product Name: PowerEdge R730xd   Vendor Name: Dell Inc.   Serial Number: 6YKW7C2   Enclosure Serial Number: 6YKW7C2   BIOS Asset Tag:    IPMI Supported: true



https://www.dell.com/support/home/zh-cn/product-support/product/poweredge-r730xd/drivers
esxi6.7 时区设置
在Ubuntu22.04LTS 中 下载这个文件 
1/usr/share/zoneinfo/Asia/Shanghai



从其他一台Linux主机拷贝一个  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/05/linux/esxi/%E7%A3%81%E7%9B%98/" title="磁盘"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="磁盘"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/linux/esxi/%E7%A3%81%E7%9B%98/" title="磁盘">磁盘</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/esxi/">esxi</a></span></div><div class="content">在 VMware ESXi 中，虚拟磁盘的置备方式有多种选择，主要分为以下三种：精简置备（Thin Provisioning）、厚置备延迟置零（Thick Provisioning Lazy Zeroed）、厚置备置零（Thick Provisioning Eager Zeroed）。它们在磁盘空间分配和性能上有所不同。
1. 精简置备（Thin Provisioning）
特点：

在创建虚拟磁盘时，只分配实际使用的数据空间，而不是整个虚拟磁盘的大小。
虚拟磁盘的大小显示为你配置的大小，但在实际存储中只占用了数据实际写入的部分。


优点：

节省存储空间，因为只分配了实际使用的空间。
适用于存储资源有限的环境。


缺点：

随着数据的增长，磁盘空间会动态增加，可能导致性能开销。
如果存储空间不足，可能会导致虚拟机无法写入数据。



2. 厚置备延迟置零（Thick Provisioning Lazy Zeroed）
特点：

在创建虚拟磁盘时，立即分配整个磁盘的空间，但不立即将所有空间初始化为零。
当虚拟机第一次写入某个区域时，才会将该区域置零（即初始化为零）。


优点：

 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/05/linux/unbuntu/ubuntu22.04%20%E6%95%91%E7%BC%93%E6%A8%A1%E5%BC%8F/" title="ubuntu22.04 救缓模式"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu22.04 救缓模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/linux/unbuntu/ubuntu22.04%20%E6%95%91%E7%BC%93%E6%A8%A1%E5%BC%8F/" title="ubuntu22.04 救缓模式">ubuntu22.04 救缓模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/unbuntu/">unbuntu</a></span></div><div class="content">在启动过程中，当看到 GRUB 菜单时，按下 Shift 键（如果使用 BIOS）或 Esc 键（如果使用 UEFI），以显示 GRUB 菜单。

系统将启动到救缓模式菜单。在菜单中，选择“root”选项以进入命令行界面。
在命令行中，你可以使用 nano 或 vi 等文本编辑器修改 .bashrc 文件。例如，输入：
1vi /home/your_username/.bashrc

eg:
1vi /home/admin_user/.bashrc
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/05/vscode/%E6%AD%A3%E5%88%99/vscode-vue2-vue3%E6%AD%A3%E5%88%99/" title="vscode-vue2-vue3正则"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vscode-vue2-vue3正则"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/vscode/%E6%AD%A3%E5%88%99/vscode-vue2-vue3%E6%AD%A3%E5%88%99/" title="vscode-vue2-vue3正则">vscode-vue2-vue3正则</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/vscode/">vscode</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/vscode/%E6%AD%A3%E5%88%99/">正则</a></span></div><div class="content">普通方法转 es6 方法
1function (.*?)\((.*?)\)

1const $1 = ($2) =&gt;

or 
1const $1 = ($2) :void =&gt;



换行匹配
1[\s\n]+
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/05/vscode/%E6%AD%A3%E5%88%99/vscode%E6%AD%A3%E5%88%99/" title="vscode正则"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vscode正则"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/vscode/%E6%AD%A3%E5%88%99/vscode%E6%AD%A3%E5%88%99/" title="vscode正则">vscode正则</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/vscode/">vscode</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/vscode/%E6%AD%A3%E5%88%99/">正则</a></span></div><div class="content">-–
title: 观察者模式
tags:
 - 策略模式
categories:
 - 设计模式
date: 2021-09-02 22:50:19
updated: 2021-09-02 22:50:19
keywords: “策略”
cover: 
password: shuzhuoi
-–
一直想学习正则表达式但被其复杂性所拖延？在本文中，我将向您展示五个易于学习的 RegEx 技巧，您可以立即在自己喜欢的文本编辑器中开始使用这些技巧。
文本编辑器设置虽然现在几乎所有文本编辑器都支持正则表达式，但我将在本教程中使用 Visual Studio Code，但您可以使用任何您喜欢的编辑器。另外请注意，您通常需要在搜索输入附近的某处打开 RegEx。这是在 VS Code 中执行此操作的方法：

1) . — 匹配任意字符让我们从简单的开始。点符号.匹配任何字符：
b.t


以上 RegEx 匹配&quot;bot”,&quot;bat”以及以 开头b和结尾的三个字符的任何其他单词t。但是如果你想搜索点符号，你需要用 转义它\，所以这个 RegEx 只会匹配精确的文本&quot;b ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/05/vscode/%E6%AD%A3%E5%88%99/%E7%AC%94%E8%AE%B0/" title="笔记"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/vscode/%E6%AD%A3%E5%88%99/%E7%AC%94%E8%AE%B0/" title="笔记">笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/vscode/">vscode</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/vscode/%E6%AD%A3%E5%88%99/">正则</a></span></div><div class="content">1(\.\S+) 是一个捕获组，用于匹配以点（.）开头的一个或多个非空白字符。
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/05/linux/unbuntu/history%20%E5%A2%9E%E5%BC%BA/" title="history 增强"><img class="post-bg" src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="history 增强"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/linux/unbuntu/history%20%E5%A2%9E%E5%BC%BA/" title="history 增强">history 增强</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-09-05T08:34:59.000Z" title="发表于 2024-09-05 16:34:59">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/unbuntu/">unbuntu</a></span></div><div class="content">要实现你提到的 history 命令的功能，可以按照以下步骤配置你的Ubuntu 22.04系统：
1. 记录IP地址、时间、用户和执行的命令首先，你需要在 ~/.bashrc 文件中配置自定义 HISTTIMEFORMAT 和 PROMPT_COMMAND。同时，你需要确保 SSH 登录时获取用户的 IP 地址并记录到环境变量中。
修改 ~/.bashrc 文件：12345678910# 获取用户登录的IP地址export HIST_IP=$(who -m | awk &#x27;&#123;print $NF&#125;&#x27; | tr -d &#x27;()&#x27;)# 设置命令历史记录格式为：时间戳 用户名@IP地址 命令export HISTTIMEFORMAT=&quot;%F %T $&#123;USER&#125;@$&#123;HIST_IP&#125; &quot;# 增加多终端历史保存功能并确保命令历史持久性shopt -s histappend# PROMPT_COMMAND 中的命令会在每次显示新的提示符之前执行。这意味着每次你输入一个命令并按下回车 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/3/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/#content-inner">20</a><a class="extend next" rel="next" href="/page/5/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/me/me-log.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">树灼</div><div class="author-info__description">熟悉java的拼写</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">194</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">44</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">50</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><marquee>欢迎访问个人小破站</marquee> <img src="https://cdn.chenshuzhuo.com/img/back.jpg"></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/08/hexo/hexo%20java%E7%BB%B4%E6%8A%A4%E6%8F%8F%E8%BF%B0yaml/" title="hexo java维护描述yaml"><img src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo java维护描述yaml"/></a><div class="content"><a class="title" href="/2024/09/08/hexo/hexo%20java%E7%BB%B4%E6%8A%A4%E6%8F%8F%E8%BF%B0yaml/" title="hexo java维护描述yaml">hexo java维护描述yaml</a><time datetime="2024-09-08T10:13:55.000Z" title="发表于 2024-09-08 18:13:55">2024-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/08/%E6%A8%A1%E6%9D%BF/VLOOK-Document-Template/" title="VLOOK-Document-Template"><img src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VLOOK-Document-Template"/></a><div class="content"><a class="title" href="/2024/09/08/%E6%A8%A1%E6%9D%BF/VLOOK-Document-Template/" title="VLOOK-Document-Template">VLOOK-Document-Template</a><time datetime="2024-09-08T07:53:24.000Z" title="发表于 2024-09-08 15:53:24">2024-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/08/nginx/nginx%E9%83%A8%E7%BD%B2%E5%A4%9A%E5%89%8D%E7%AB%AF/" title="nginx部署多前端"><img src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="nginx部署多前端"/></a><div class="content"><a class="title" href="/2024/09/08/nginx/nginx%E9%83%A8%E7%BD%B2%E5%A4%9A%E5%89%8D%E7%AB%AF/" title="nginx部署多前端">nginx部署多前端</a><time datetime="2024-09-08T07:53:23.000Z" title="发表于 2024-09-08 15:53:23">2024-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/08/db/postgresql/postgresql%20%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90/" title="postgresql 创建用户权限"><img src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="postgresql 创建用户权限"/></a><div class="content"><a class="title" href="/2024/09/08/db/postgresql/postgresql%20%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90/" title="postgresql 创建用户权限">postgresql 创建用户权限</a><time datetime="2024-09-08T07:53:23.000Z" title="发表于 2024-09-08 15:53:23">2024-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/05/docker/Docker%20%E5%AE%B9%E5%99%A8%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E8%BF%87%E5%A4%A7/" title="Docker 容器日志文件过大"><img src="https://cdn.chenshuzhuo.com/img/202303121511512.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker 容器日志文件过大"/></a><div class="content"><a class="title" href="/2024/09/05/docker/Docker%20%E5%AE%B9%E5%99%A8%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E8%BF%87%E5%A4%A7/" title="Docker 容器日志文件过大">Docker 容器日志文件过大</a><time datetime="2024-09-05T11:22:04.000Z" title="发表于 2024-09-05 19:22:04">2024-09-05</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">ai</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/db/"><span class="card-category-list-name">db</span><span class="card-category-list-count">8</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/db/mongodb/"><span class="card-category-list-name">mongodb</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/db/mysql/"><span class="card-category-list-name">mysql</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/db/postgresql/"><span class="card-category-list-name">postgresql</span><span class="card-category-list-count">2</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/docker/"><span class="card-category-list-name">docker</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/git/"><span class="card-category-list-name">git</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/gpt/"><span class="card-category-list-name">gpt</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/jvm/" style="font-size: 1.13em; color: #999a9c">jvm</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.13em; color: #999a9c">设计模式</a> <a href="/tags/hexo/" style="font-size: 1.27em; color: #99a0a9">hexo</a> <a href="/tags/%E6%AD%A3%E5%88%99/" style="font-size: 1.2em; color: #999da3">正则</a> <a href="/tags/git/" style="font-size: 1.27em; color: #99a0a9">git</a> <a href="/tags/jdk8/" style="font-size: 1.13em; color: #999a9c">jdk8</a> <a href="/tags/unbuntu/" style="font-size: 1.4em; color: #99a5b6">unbuntu</a> <a href="/tags/gpt/" style="font-size: 1.1em; color: #999">gpt</a> <a href="/tags/%E5%90%B9%E6%B0%B4/" style="font-size: 1.1em; color: #999">吹水</a> <a href="/tags/vscode/" style="font-size: 1.1em; color: #999">vscode</a> <a href="/tags/vercel/" style="font-size: 1.1em; color: #999">vercel</a> <a href="/tags/maven/" style="font-size: 1.17em; color: #999c9f">maven</a> <a href="/tags/postgresql/" style="font-size: 1.13em; color: #999a9c">postgresql</a> <a href="/tags/esxi/" style="font-size: 1.3em; color: #99a1ac">esxi</a> <a href="/tags/ubuntu/" style="font-size: 1.13em; color: #999a9c">ubuntu</a> <a href="/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/" style="font-size: 1.1em; color: #999">小技巧</a> <a href="/tags/idea/" style="font-size: 1.1em; color: #999">idea</a> <a href="/tags/ai/" style="font-size: 1.2em; color: #999da3">ai</a> <a href="/tags/docker/" style="font-size: 1.43em; color: #99a6b9">docker</a> <a href="/tags/webpack/" style="font-size: 1.23em; color: #999ea6">webpack</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.2em; color: #999da3">前端</a> <a href="/tags/jenkins/" style="font-size: 1.1em; color: #999">jenkins</a> <a href="/tags/electron/" style="font-size: 1.13em; color: #999a9c">electron</a> <a href="/tags/oom/" style="font-size: 1.17em; color: #999c9f">oom</a> <a href="/tags/nginx/" style="font-size: 1.37em; color: #99a4b2">nginx</a> <a href="/tags/mybatis/" style="font-size: 1.1em; color: #999">mybatis</a> <a href="/tags/keepalive/" style="font-size: 1.1em; color: #999">keepalive</a> <a href="/tags/react/" style="font-size: 1.33em; color: #99a2af">react</a> <a href="/tags/%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90/" style="font-size: 1.1em; color: #999">语音合成</a> <a href="/tags/springboot/" style="font-size: 1.47em; color: #99a8bc">springboot</a> <a href="/tags/mongodb/" style="font-size: 1.1em; color: #999">mongodb</a> <a href="/tags/word/" style="font-size: 1.17em; color: #999c9f">word</a> <a href="/tags/%E5%9B%BD%E5%AF%86/" style="font-size: 1.1em; color: #999">国密</a> <a href="/tags/%E5%8F%8D%E7%BC%96%E8%AF%91/" style="font-size: 1.13em; color: #999a9c">反编译</a> <a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 1.1em; color: #999">安全</a> <a href="/tags/MinIO/" style="font-size: 1.1em; color: #999">MinIO</a> <a href="/tags/python/" style="font-size: 1.1em; color: #999">python</a> <a href="/tags/java/" style="font-size: 1.5em; color: #99a9bf">java</a> <a href="/tags/linux/" style="font-size: 1.37em; color: #99a4b2">linux</a> <a href="/tags/%E5%9B%BE%E5%BA%8A/" style="font-size: 1.17em; color: #999c9f">图床</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><span class="card-archive-list-count">41</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><span class="card-archive-list-count">93</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">22</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">194</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-09-08T10:42:30.496Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 树灼</div><div class="framework-info"></div><div class="footer_custom_text">Hi, 欢迎访问我的<a href="blog.chenshuzhuo.com">小破站!</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = []
        sub.unshift(data.hitokoto, from)
        typedJSFn.init(sub)
      } else {
        document.getElementById('subtitle').textContent = data.hitokoto
      }
    })
}
typedJSFn.run(subtitleType)
</script></div><div class="aplayer no-destroy" data-id="8197503748" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" > </div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>